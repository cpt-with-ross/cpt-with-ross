<%= render "shared/page_header", title: @index_event.title %>

<div class="mb-4">
  <div class="d-flex gap-2">
    <%= link_to index_event_impact_statement_path(@index_event), class: "btn btn-outline-primary" do %>
      <i class="fas fa-file-alt"></i> Impact Statement
    <% end %>
    <%= link_to new_index_event_stuck_point_path(@index_event), class: "btn btn-outline-secondary" do %>
      <i class="fas fa-plus"></i> Add Stuck Point
    <% end %>
  </div>
</div>

<% if @index_event.stuck_points.any? %>
  <h5>Stuck Points</h5>
  <div class="list-group">
    <% @index_event.stuck_points.each do |stuck_point| %>
      <div class="list-group-item d-flex justify-content-between align-items-center">
        <span><%= stuck_point.statement %></span>
        <span class="badge bg-<%= stuck_point.resolved? ? 'success' : 'secondary' %>">
          <%= stuck_point.resolved? ? 'Resolved' : 'Active' %>
        </span>
      </div>
    <% end %>
  </div>
<% else %>
  <p class="text-muted">No stuck points identified yet.</p>
<% end %>

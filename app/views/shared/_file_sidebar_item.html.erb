<% is_active = current_page?(polymorphic_path(item)) %>

<div class="d-flex align-items-center justify-content-between mb-1 sidebar-item-group" id="<%= dom_id(item) %>">
  <%= turbo_frame_tag dom_id(item, :title_frame), class: "flex-grow-1" do %>
    <%= link_to item.title, polymorphic_path(item),
        class: "text-decoration-none small d-block py-1 border-start border-2 w-100
               #{is_active ? 'sidebar-active text-dark' : 'text-secondary border-transparent hover-border-primary' }" %>
  <% end %>

  <div class="dropdown">
    <button class="btn btn-sm btn-link text-muted p-0 action-btn" type="button" data-bs-toggle="dropdown" style="font-size: 0.75rem;">
      <i class="fa-solid fa-ellipsis"></i>
    </button>
    <ul class="dropdown-menu dropdown-menu-end shadow-sm border-0">
      <li>
        <%= link_to [:edit, item],
            class: "dropdown-item small",
            data: { turbo_frame: dom_id(item, :title_frame) } do %>
          <i class="fa-solid fa-pen me-2"></i> Rename
        <% end %>
      </li>
      <li><hr class="dropdown-divider"></li>
      <li>
        <%= button_to item, method: :delete, class: "dropdown-item small text-danger" do %>
          <i class="fa-regular fa-trash-can me-2"></i> Delete
        <% end %>
      </li>
    </ul>
  </div>

</div>

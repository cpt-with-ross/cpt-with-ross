<%= render "shared/stuck_point_context", stuck_point: @stuck_point %>

<%= simple_form_for @alternative_thought, data: { turbo_frame: "main_content" } do |f| %>
  <div class="card shadow-sm mb-4">
    <div class="card-header bg-secondary text-white py-2">
      <h5 class="mb-0">Alternative Thought(s)</h5>
    </div>
    <div class="card-body">
      <p class="text-muted small mb-4">
        What else can you say instead of the stuck point? How else can you interpret the event? Rate your belief in the alternative thought(s) from 0 to 100%.
      </p>

      <div class="mb-4">
        <%= f.input :alternative_thought,
            as: :text,
            label: "Alternative Thought",
            input_html: { rows: 5, class: "form-control", placeholder: "A more balanced, accurate way of thinking about the stuck point..." } %>
      </div>

      <div class="mb-4">
        <label class="form-label">How strongly do you believe this alternative thought? (0-100%)</label>
        <div class="d-flex align-items-center gap-3">
          <input type="range"
                 name="alternative_thought[alternative_thought_belief]"
                 id="alternative_thought_alternative_thought_belief"
                 min="0" max="100"
                 value="<%= @alternative_thought.alternative_thought_belief || 0 %>"
                 class="form-range flex-grow-1"
                 autocomplete="off"
                 data-controller="emotion-slider"
                 data-emotion-slider-target="slider"
                 data-action="input->emotion-slider#updateBadge">
          <span class="badge bg-primary" style="min-width: 48px;"
                data-emotion-slider-target="badge">
            <%= @alternative_thought.alternative_thought_belief || 0 %>
          </span>
          <span>%</span>
        </div>
      </div>
    </div>
  </div>

  <%= render "shared/form_actions", f: f, cancel_path: @alternative_thought %>
<% end %>
